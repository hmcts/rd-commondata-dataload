commondata-list-of-values-start-route: direct:CommonData-ListOfValues
commondata-list-of-values-route-task: commonDataListOfValuesLoadTask
commondata-list-of-values-routes-to-execute: commondata-list-of-values-load
route:
  #Route: commondata-list-of-values-load
  commondata-list-of-values-load:
    id: commondata-list-of-values-load
    file-name: ListOfValues.csv
    table-name: list_of_values
    insert-sql:
      sql:insert into list_of_values (categorykey,serviceid,key,value_en,value_cy,hinttext_en,hinttext_cy,lov_order,
      parentcategory,parentkey,active)
      values(:#categorykey,:#serviceid,:#key,:#value_en,:#value_cy,:#hinttext_en,:#hinttext_cy,:#lov_order,
      :#parentcategory,:#parentkey,:#active) on conflict (key) do UPDATE SET categorykey = :#categorykey,
      serviceid = :#serviceid, value_en = :#value_en, value_cy = :#value_cy, hinttext_en =:#hinttext_en,
      hinttext_cy = :#hinttext_cy, lov_order = :#lov_order, parentcategory = :#parentcategory, parentkey = :#parentkey,
      active = :#active?batch=true&dataSource=dataSource
    blob-path:
      azure-blob://${azure.storage.account-name}/rd-common-data/ListOfValues.csv?credentials=#credsreg&operation=updateBlockBlob
    processor-class: listOfValuesProcessor
    mapper-class: listOfValuesMapper
    csv-binder-object: ListOfValues
    csv-headers-expected: CategoryKey,ServiceID,Key,Value_EN,Value_CY,HintText_EN,HintText_CY,Lov_Order,ParentCategory,ParentKey,Active
    header-validation-enabled: true

